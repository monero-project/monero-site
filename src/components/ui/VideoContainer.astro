---
interface Props {
  maxWidth?: string;
  centered?: boolean;
  class?: string;
}

const {
  maxWidth = "100%",
  centered = false,
  class: className,
  ...rest
} = Astro.props;

const style = `--video-max-width: ${maxWidth}`;

const classes = [
  "video-container",
  centered && "video-container--centered",
  className,
]
  .filter(Boolean)
  .join(" ");
---

<div class={classes} style={style} {...rest}>
  <slot />
</div>

<style>
  .video-container {
    position: relative;
    width: min(100%, var(--video-max-width, 100%));
    aspect-ratio: 16 / 9;
    border-radius: var(--radius-xl);
    border: 1px solid var(--border-color);
    overflow: hidden;
  }

  .video-container--centered {
    margin-inline: auto;
  }

  .video-container :global(video) {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }
</style>
