---
import Card from "./Card.astro";
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  image: ImageMetadata;
  imageAlt: string;
  title?: string;
  lead?: string;
  description?: string;
  class?: string;
}

const {
  image,
  imageAlt,
  title,
  lead,
  description,
  class: className,
} = Astro.props;
---

<Card
  as="article"
  padding="2xl"
  radius="lg"
  class:list={["hero-card", className]}
>
  <div class="hero-card-image">
    <Image src={image} alt={imageAlt} width={200} height={200} format="avif" />
  </div>
  <div class="hero-card-content">
    {title && <h2 class="hero-card-title">{title}</h2>}
    {lead && <p class="hero-card-lead">{lead}</p>}
    {description && <p class="hero-card-description">{description}</p>}
    <div class="hero-card-actions">
      <slot />
    </div>
  </div>
</Card>

<style>
  .hero-card {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: var(--space-3xl);
    align-items: center;
  }

  .hero-card-image {
    width: 200px;
    height: 200px;
    flex-shrink: 0;

    & :global(img) {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }

  .hero-card-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .hero-card-title {
    margin: 0;
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--heading-color);
  }

  .hero-card-lead {
    margin: 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--monero-orange);
  }

  .hero-card-description {
    margin: 0;
    color: var(--paragraph-subtitle);
    line-height: var(--line-height-body);
    max-width: 75ch;
  }

  .hero-card-actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-sm);
    flex-wrap: wrap;

    & :global(a),
    & :global(button) {
      padding: 0.625em 1.25em;
      gap: 0.35em;
    }
  }

  @media (width <= 900px) {
    .hero-card {
      grid-template-columns: 1fr;
      text-align: center;
      gap: var(--space-xl);
    }

    .hero-card-image {
      width: 160px;
      height: 160px;
      margin: 0 auto;
    }

    .hero-card-actions {
      justify-content: center;
    }
  }

  @media (width <= 600px) {
    .hero-card-image {
      width: 120px;
      height: 120px;
    }

    .hero-card-title {
      font-size: var(--font-size-xl);
    }
  }
</style>
