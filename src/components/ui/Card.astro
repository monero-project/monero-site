---
import type { HTMLTag } from "astro/types";

type Padding = "none" | "xs" | "sm" | "md" | "lg" | "xl" | "2xl";
type Radius = "none" | "sm" | "md" | "lg" | "xl";

interface Props {
  padding?: Padding;
  radius?: Radius;
  border?: boolean;
  hover?: boolean;
  transparent?: boolean;
  as?: HTMLTag;
  class?: string;
  [key: string]: unknown;
}

const {
  padding = "lg",
  radius = "md",
  border = false,
  hover = false,
  transparent = false,
  as: Tag = "div",
  class: className,
  ...rest
} = Astro.props;
---

<Tag
  class:list={["card", className]}
  data-padding={padding !== "lg" ? padding : undefined}
  data-radius={radius !== "md" ? radius : undefined}
  data-border={border || undefined}
  data-hover={hover || undefined}
  data-transparent={transparent || undefined}
  {...rest}
>
  <slot />
</Tag>

<style>
  .card {
    background: var(--card-color);
    padding: var(--space-lg);
    border-radius: var(--radius-md);
  }

  /* Padding variants */
  .card[data-padding="none"] {
    padding: 0;
  }
  .card[data-padding="xs"] {
    padding: var(--space-xs);
  }
  .card[data-padding="sm"] {
    padding: var(--space-sm);
  }
  .card[data-padding="md"] {
    padding: var(--space-md);
  }
  .card[data-padding="xl"] {
    padding: var(--space-xl);
  }
  .card[data-padding="2xl"] {
    padding: var(--space-2xl);
  }

  /* Radius variants */
  .card[data-radius="none"] {
    border-radius: 0;
  }
  .card[data-radius="sm"] {
    border-radius: var(--radius-sm);
  }
  .card[data-radius="lg"] {
    border-radius: var(--radius-lg);
  }
  .card[data-radius="xl"] {
    border-radius: var(--radius-xl);
  }

  /* Border modifier */
  .card[data-border] {
    border: 1px solid var(--border-color);
  }

  /* Transparent modifier */
  .card[data-transparent] {
    background: transparent;
  }

  /* Hover modifier */
  .card[data-hover] {
    transition: background 0.15s ease;
  }

  .card[data-hover]:hover,
  .card[data-hover]:focus-within {
    background: var(--card-hover-color);
  }
</style>
