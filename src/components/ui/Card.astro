---
import type { HTMLTag } from "astro/types";

type Padding = "none" | "xs" | "sm" | "md" | "lg" | "xl" | "2xl";
type Radius = "none" | "sm" | "md" | "lg" | "xl";

interface Props {
  padding?: Padding;
  radius?: Radius;
  border?: boolean;
  hover?: boolean;
  transparent?: boolean;
  as?: HTMLTag;
  class?: string;
  [key: string]: unknown;
}

const {
  padding = "xl",
  radius = "md",
  border = false,
  hover = false,
  transparent = false,
  as: Tag = "div",
  class: className,
  ...rest
}: Props = Astro.props;

const cardPadding = padding === "none" ? "0" : `var(--space-${padding})`;
const cardRadius = radius === "none" ? "0" : `var(--radius-${radius})`;
---

<Tag
  class:list={["card", className]}
  data-border={border || undefined}
  data-hover={hover || undefined}
  data-transparent={transparent || undefined}
  style={`--card-padding: ${cardPadding}; --card-radius: ${cardRadius}`}
  {...rest}
>
  <slot />
</Tag>

<style>
  .card {
    background: var(--card-color);
    padding: var(--card-padding);
    border-radius: var(--card-radius);

    &[data-border] {
      border: 1px solid var(--border-color);
    }

    &[data-transparent] {
      background: transparent;
    }

    &[data-hover] {
      transition: background 0.15s ease;

      &:hover,
      &:focus-visible {
        background: var(--card-hover-color);
      }
    }
  }
</style>
