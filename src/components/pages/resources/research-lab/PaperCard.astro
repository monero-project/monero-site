---
import Card from "@/components/ui/Card.astro";
import IconLink from "@/components/ui/IconLink.astro";

interface Props {
  code?: string;
  title: string;
  abstract: string;
  url: string;
  note?: string;
}

const { code, title, abstract, url, note } = Astro.props;
const { t } = Astro.locals;
---

<Card as="article" padding="lg" class="paper-card">
  <div class="paper-header">
    {code && <span class="paper-code">{code}</span>}
    {note && <span class="paper-badge">{note}</span>}
  </div>
  <h3 class="paper-title">{title}</h3>
  <p class="paper-abstract">{abstract}</p>
  <IconLink href={url} size="sm">
    {t("common:components.paperCard.readPaper")}
  </IconLink>
</Card>

<style>
  .paper-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .paper-header {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--space-xs);
  }

  .paper-code {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    color: var(--monero-orange);
    font-family: var(--font-mono, monospace);
    background: color-mix(in srgb, var(--monero-orange) 12%, transparent);
    padding: 0.2em 0.5em;
    border-radius: var(--radius-sm);
  }

  .paper-badge {
    font-size: var(--font-size-xs);
    color: var(--paragraph-subtitle);
    font-style: italic;
  }

  .paper-title {
    margin: 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--heading-color);
    line-height: 1.35;
  }

  .paper-abstract {
    margin: 0;
    font-size: var(--font-size-sm);
    color: var(--paragraph-subtitle);
    line-height: var(--line-height-body);
    overflow: hidden;
    max-width: 65ch;
  }

  @media (width <= 600px) {
    .paper-title {
      font-size: var(--font-size-sm);
    }
  }
</style>
