---
import DisclaimerBar from "@/components/ui/DisclaimerBar.astro";
import ExternalResourceButton from "@/components/ui/ExternalResourceButton.astro";
import PageContainer from "@/components/ui/PageContainer.astro";
import PageSection from "@/components/ui/PageSection.astro";
import TitleCard from "@/components/ui/TitleCard.astro";
import { blockExplorers, networkTools, utilities } from "@/data/monero-tools";
import { createTInstance, getLocale, localizeHref } from "@/i18n/utils";
import Layout from "@/layouts/Layout.astro";

import shieldAlertIcon from "@/assets/icons/mask/shieldAlert.avif";

const locale = getLocale(Astro.url);
const t = await createTInstance(locale);
---

<Layout
  title={t("tools:explore.pageTitle")}
  description={t("tools:explore.subtitle")}
>
  <TitleCard
    title={t("tools:explore.title")}
    subtitle={t("tools:explore.subtitle")}
    backHref={localizeHref(locale, "/resources/tools/")}
    backLabel={t("tools:index.title")}
  />

  <PageContainer>
    <PageSection
      title={t("tools:explore.sections.blockExplorers.title")}
      subtitle={t("tools:explore.sections.blockExplorers.subtitle")}
      anchorId="explorers"
    >
      <ul class="tool-list">
        {
          blockExplorers.map((tool) => (
            <li>
              <ExternalResourceButton
                href={tool.href}
                title={tool.title}
                subtitle={tool.subtitle}
                onionHref={tool.onionHref}
                t={t}
              />
            </li>
          ))
        }
      </ul>
    </PageSection>

    <hr aria-hidden="true" />

    <PageSection
      title={t("tools:explore.sections.network.title")}
      subtitle={t("tools:explore.sections.network.subtitle")}
      anchorId="network"
    >
      <ul class="tool-list">
        {
          networkTools.map((tool) => (
            <li>
              <ExternalResourceButton
                href={tool.href}
                title={tool.title}
                subtitle={tool.subtitle}
                t={t}
              />
            </li>
          ))
        }
      </ul>
    </PageSection>

    <hr aria-hidden="true" />

    <PageSection
      title={t("tools:explore.sections.utilities.title")}
      subtitle={t("tools:explore.sections.utilities.subtitle")}
      anchorId="utilities"
    >
      <ul class="tool-list">
        {
          utilities.map((tool) => (
            <li>
              <ExternalResourceButton
                href={tool.href}
                title={tool.title}
                subtitle={tool.subtitle}
                t={t}
              />
            </li>
          ))
        }
      </ul>
    </PageSection>
  </PageContainer>

  <DisclaimerBar
    icon={shieldAlertIcon}
    title={t("tools:explore.disclaimer.title")}
  >
    {t("tools:explore.disclaimer.text")}
    <a
      href="https://github.com/monero-project/monero-site/issues/new"
      target="_blank"
      rel="noopener noreferrer">{t("tools:explore.disclaimer.linkText")}</a
    >.
  </DisclaimerBar>
</Layout>

<style>
  .tool-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  @media (max-width: 900px) {
    .tool-list {
      grid-template-columns: 1fr;
    }
  }
</style>
