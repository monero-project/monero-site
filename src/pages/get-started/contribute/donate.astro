---
import DonationAddress from "@/components/pages/contribute/DonationAddress.astro";
import FundFooter from "@/components/pages/contribute/FundFooter.astro";
import Button from "@/components/ui/Button.astro";
import Grid from "@/components/ui/Grid.astro";
import HeroCard from "@/components/ui/HeroCard.astro";
import MaskIcon from "@/components/ui/MaskIcon.astro";
import PageContainer from "@/components/ui/PageContainer.astro";
import PageSection from "@/components/ui/PageSection.astro";
import TitleCard from "@/components/ui/TitleCard.astro";
import Layout from "@/layouts/Layout.astro";

import externalLinkIcon from "@/assets/icons/mask/external-link.avif";

import communityLogo from "@/assets/images/idea-bulb.avif";

import contributingData from "@/data/contributing/contributing.json";

const { dir, t, localizeHref } = Astro.locals;
---

<Layout
  title={t("contribute:donate.title")}
  description={t("contribute:donate.subtitle")}
>
  <TitleCard
    title={t("contribute:donate.title")}
    subtitle={t("contribute:donate.subtitle")}
    backHref={localizeHref("/get-started/contribute/")}
    backLabel={t("contribute:index.title")}
  />

  <PageContainer>
    <HeroCard
      image={communityLogo}
      imageAlt=""
      title={t("contribute:donate.ccs.title")}
      lead={t("contribute:donate.ccs.lead")}
      description={t("contribute:donate.ccs.description")}
    >
      <Button
        href="https://ccs.getmonero.org/funding-required/"
        target="_blank"
        rel="noopener"
      >
        {t("contribute:donate.ccs.viewProposals")}
        <MaskIcon src={externalLinkIcon} size="1em" rtl={dir === "rtl"} />
      </Button>
    </HeroCard>

    <hr />

    <PageSection
      title={t("contribute:donate.generalFund.title")}
      subtitle={t("contribute:donate.generalFund.subtitle")}
    >
      <Grid columns={2} gap="md">
        <DonationAddress
          currency={t("contribute:donate.generalFund.moneroXmr")}
          address={contributingData.xmr.address}
          qrCode={`/contributing/${contributingData.xmr.qr_filename}`}
          viewAddress={contributingData.xmr.view_address}
          viewKey={contributingData.xmr.view_key}
          viewOnlyLabel={t(
            "contribute:donate.generalFund.viewOnlyWalletDetails",
          )}
          primaryAddressLabel={t(
            "contribute:donate.generalFund.primaryAddress",
          )}
          viewKeyLabel={t("contribute:donate.generalFund.viewKey")}
        />
        <DonationAddress
          currency={t("contribute:donate.generalFund.bitcoinBtc")}
          address={contributingData.btc.address}
          qrCode={`/contributing/${contributingData.btc.qr_filename}`}
        />
      </Grid>

      <FundFooter
        note={t("contribute:donate.generalFund.description")}
        openAliasLabel={t("contribute:donate.generalFund.openAlias")}
        openAliasValue="donate.getmonero.org"
        contactLabel={t("contribute:donate.generalFund.contact")}
        contactEmail="dev@getmonero.org"
      />
    </PageSection>
  </PageContainer>
</Layout>
