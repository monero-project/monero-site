{% include disclaimer.html translated="yes" translationOutdated="no" %}

## Кошелёк

Перед тем как начать, вам необходимо иметь уже сконфигурированный и готовый к работе кошелёк. Пулу нужно знать адрес вашего кошелька, чтобы он смог направлять на него платежи. Дополнительную информацию можно найти в [Руководстве по приёму Monero]({{ site.baseurl}}/get-started/accepting)

## Прибыльность

Перед тем как начать майнинг, вы должны решить, стоит ли вам вообще этим заниматься. Решение необходимо принять, исходя из ваших затрат на электроэнергию и доступного вам оборудования. Существует множество сайтов, таких как [CryptoCompare](https://www.cryptocompare.com/mining/calculator/xmr), которые позволяют ввести значения параметров скорости и мощности вашего майнера и на основе этих данных вычисляют возможную прибыль (или убыток) за неделю/месяц.

## Скачивание майнера

Первым шагом является скачивание на ваш компьютер программного обеспечения, необходимого для майнинга.

### Windows

Разработчик XMRig предоставляет готовые двоичные файлы, которые потребуются пользователям Windows. Их можно скачать со [страницы релизов на GitHub](https://github.com/xmrig/xmrig/releases/latest).

Там вы сможете найти архив `xmrig-VERSION-msvc-win64.zip`. Скачайте этот файл и извлеките его содержимое в какое-нибудь место, например, на рабочий стол.

### Ubuntu Linux

Разработчик XMRig предоставляет готовые двоичные файлы для Ubuntu Xenial Xerus (16.04). Они могут работать и с другими версиями Ubuntu, и с другими дистрибутивами, но это не гарантируется.

Эти двоичные файлы также можно скачать на [странице релизов на GitHub](https://github.com/xmrig/xmrig/releases/latest).

На ней выложен соответствующий архив `xmrig-VERSION-xenial-x64.tar.gz`. Скачайте этот файл и извлеките его содержимое в какое-нибудь место, например, на рабочий стол.

### Другие дистрибутивы Linux

Пользователи других дистрибутивов Linux могут скомпилировать XMRig из исходного кода. Во-первых, следует установить зависимости:

```
# For Debian-based distros
sudo apt install \
	build-essential \
	cmake \
	git \
	libhwloc-dev \
	libssl-dev \
	libuv1-dev
```

Скачивание исходного кода XMRig:

```
git clone https://github.com/xmrig/xmrig.git
cd xmrig
```

Конфигурирование и компиляция XMRig:

```
cmake -Bbuild
make -Cbuild -j$(nproc)
```

Затем необходимо скопировать двоичный файл и пример конфигурации в свою домашнюю директорию:

```
cp build/xmrig ~/
cp src/config.json ~/
```

### Сборка для macOS

Во-первых, следует установить XCode и [Homebrew](https://brew.sh).

Homebrew используется для установки зависимостей:

```
brew install \
	cmake \
	hwloc \
	libmicrohttpd \
	libuv \
	openssl
```

Скачивание исходного кода XMRig:

```
git clone https://github.com/xmrig/xmrig.git
cd xmrig
```

Конфигурирование и компиляция XMRig:

```
cmake -Bbuild -DOPENSSL_ROOT_DIR=/usr/local/opt/openssl
make -Cbuild -j$(nproc)
```

Затем необходимо скопировать двоичный файл и пример конфигурации в свою домашнюю директорию:

```
cp build/xmrig ~/
cp src/config.json ~/
```

## Выбор пула

Существует огромное количество пулов. Список пулов можно найти на [miningpoolstats.stream/monero](https://miningpoolstats.stream/monero).

Выбор большего пула означает, что вы будете получать более частые (но меньшие) выплаты, а выбор меньших пулов поможет обеспечить децентрализованность сети. [Майнеры не теряют доходность при работе в меньших пулах](https://redd.it/g6uh2l).

## Конфигурирование майнера

Необходимо перейти на веб-страницу выбранного пула и ознакомиться с их документацией. Там должен быть указан адрес и порт, которые следует использовать для подключения вашего майнера. Например, `pool.xmr.pt:3333`.

Затем при помощи используемого вами текстового редактора необходимо открыть файл config.json, который был скопирован или извлечён ранее. Следует прокрутить вниз до строки, в которой будет написано `donate.v2.xmrig.com:3333`, и изменить текст в кавычках на адрес вашего пула. Строка ниже должна содержать `YOUR_WALLET_ADDRESS`. Следует изменить этот текст на фактический адрес вашего кошелька.

После внесения этих изменений полученная конфигурация должна выглядеть примерно так:

```
{
	// [...]
	"pools": [
		{
			"url": "pool.xmr.pt:3333",
			"user": "43YjW8SZov..."
		}
	],
	// [...]
}
```

## Запуск майнера

Пользователи Windows могут сделать это двойным кликом по файлу xmrig.exe. Пользователям других операционных систем следует воспользоваться командой `cd` и перейти в директорию, содержащую XMRig, затем ввести `./xmrig` и дождаться ответа на команду.

Если вы видите зелёные сообщения о том, что данные были приняты, поздравляем - всё работает!

## Диагностика и устранение неисправностей

### Антивирус удаляет XMRig

Некоторые антивирусы помечают XMRig как вредоносное программное обеспечение, поскольку XMRig часто устанавливается на заражённые компьютеры без согласия их владельцев в целях недобросовестного майнинга. Так как это ваш компьютер и вы настраиваете майнер для себя, можно уверенно добавить XMRig в список исключений вашего антивируса.

### Не удаётся прочитать/настроить MSR

В случае с некоторыми CPU XMRig пытается повысить производительность, отключая определённые функции, такие как буфер предварительной выборки команд CPU. Для этих операций требуются права администратора, поэтому попробуйте правой кнопкой мыши кликнуть по файлу xmrig.exe и запустить его от имени администратора или же запустить `sudo ./xmrig` в других системах.
systems.

### Алгоритм не известен

Следует найти строку в config.json, в которой будет написано `algo: null`, и изменить текст на `algo: "rx/0"`. По умолчанию XMRig ожидает, что именно пул укажет ему, какой алгоритм использовать при майнинге.

### Большие страницы не загружаются (0%)

#### Как разрешить загрузку больших страниц в Windows

Взято из [MSDN](https://docs.microsoft.com/en-us/sql/database-engine/configure-windows/enable-the-lock-pages-in-memory-option-windows?view=sql-server-ver15):

1. В меню Start (Запуск) выбрать Run (Запустить). В окошке Open (Открыть) набрать gpedit.msc.
2. В консоли Local Group Policy Editor (Редактор локальной групповой политики) перейти в Computer Configuration (Конфигурация компьютера), а затем в Windows Settings (Конфигурация Windows).
3. Перейти в Security Settings (Параметры безопасности), а затем в Local Policies (Локальные политики).
4. Выбрать папку User Rights Assignment (Назначение прав пользователя).
5. Политика будет отображаться в окошке подробной информации.
6. В этом окошке двойным кликом выберите Lock pages in memory (Блокировка страниц в памяти).
7. В диалоговом окне Local Security Setting — Lock pages in memory (Параметр локальной безопасности — Блокировка страниц в памяти) выберите Add User or Group (Добавить пользователя или группу).
8. В диалоговом окне Select Users, Service Accounts, or Groups (Выбор: «Пользователи» или «Группы») добавить пользователя, под которым вы будете запускать майнер.
9. Перезагрузите компьютер, чтобы изменения вступили в силу.

Также может понадобиться запустить майнер от имени администратора.

#### Как разрешить загрузку больших страниц в Linux

Сначала необходимо остановить майнер (если он работает) и ввести следующие команды, чтобы включить возможность загрузки больших страниц, а затем запустить майнер от имени root:

	sudo sysctl -w vm.nr_hugepages=1168
	sudo ./xmrig

Возможно, придётся увеличить значение 1168 в зависимости от того, сколько узлов NUMA поддерживает ваш CPU.

#### Как разрешить загрузку больших страниц в macOS

Большие страницы не поддерживаются macOS.

### Баланс не увеличивается

Большинство пулов является <abbr title="Оплата за N последних шар">пулами PPLNS</abbr>, а это означает, что вам платят только тогда, когда майнер, находящийся в пуле, находит блок. Если пул, в котором вы занимаетесь майнингом, небольшой, то это может занять от нескольких дней до нескольких недель.

Кроме того, все вычисленные блоки должны стать достаточно «зрелыми», прежде чем за них можно будет получить вознаграждение. На это уходит еще порядка 60 блоков (примерно 2 часа).

## Помощь

Активное майнинг-сообщество Monero на Reddit можно найти здесь: [/r/MoneroSupport](https://www.reddit.com/r/MoneroSupport/). Вы также можете присоединиться к [#monero-pools на freenode](https://webchat.freenode.net/?channel=#monero-pools).

## Дальнейшие действия

* Подумайте об использовании отдельного подадреса для майнинга, чтобы ваш основной адрес нельзя было связать с различными сервисами.
* [Рассмотрите возможность использования Tor для подключения к пулу](https://xmrig.com/docs/miner/tor) (или к скрытым пулам, таким как HashVault, RespectXMR и MoneroOcean). Это позволит скрыть то, что вы занимаетесь майнингом, от вашего интернет-провайдера и не позволит самому пулу узнать, кто вы.
